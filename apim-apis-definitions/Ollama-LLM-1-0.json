{
  "export": {
    "date": "2025-09-26T12:42:03.924142801Z",
    "apimVersion": "4.8.7"
  },
  "api": {
    "definitionVersion": "V4",
    "type": "PROXY",
    "listeners": [
      {
        "type": "HTTP",
        "paths": [
          {
            "path": "/ollama/",
            "overrideAccess": false
          }
        ],
        "pathMappings": [],
        "entrypoints": [
          {
            "type": "http-proxy",
            "qos": "AUTO",
            "configuration": {}
          }
        ],
        "servers": []
      }
    ],
    "endpointGroups": [
      {
        "name": "Default HTTP proxy group",
        "type": "http-proxy",
        "loadBalancer": {
          "type": "ROUND_ROBIN"
        },
        "sharedConfiguration": "{\"proxy\":{\"useSystemProxy\":false,\"enabled\":false},\"http\":{\"keepAliveTimeout\":30000,\"keepAlive\":true,\"propagateClientHost\":false,\"followRedirects\":false,\"readTimeout\":10000,\"idleTimeout\":60000,\"connectTimeout\":3000,\"useCompression\":true,\"maxConcurrentConnections\":20,\"version\":\"HTTP_1_1\",\"pipelining\":false},\"ssl\":{\"keyStore\":{\"type\":\"\"},\"hostnameVerifier\":true,\"trustStore\":{\"type\":\"\"},\"trustAll\":false}}",
        "endpoints": [
          {
            "name": "Default HTTP proxy",
            "type": "http-proxy",
            "weight": 1,
            "inheritConfiguration": true,
            "configuration": {
              "target": "http://ollama:11434"
            },
            "services": {},
            "secondary": false,
            "tenants": []
          }
        ],
        "services": {}
      }
    ],
    "analytics": {
      "enabled": true
    },
    "flowExecution": {
      "mode": "DEFAULT",
      "matchRequired": false
    },
    "flows": [],
    "id": "ae35e359-c327-48c6-b5e3-59c32798c69f",
    "name": "Ollama LLM",
    "description": "Ollama LLM",
    "apiVersion": "1.0",
    "deployedAt": "2025-09-25T23:57:22.029Z",
    "createdAt": "2025-09-25T16:41:01.216Z",
    "updatedAt": "2025-09-25T23:57:22.029Z",
    "disableMembershipNotifications": false,
    "groups": [],
    "state": "STARTED",
    "visibility": "PRIVATE",
    "labels": [],
    "lifecycleState": "CREATED",
    "tags": [],
    "primaryOwner": {
      "id": "a8fbc6e4-f4c9-4729-bbc6-e4f4c9f7299e",
      "email": "dorian.blanc@graviteesource.com",
      "displayName": "Dorian Blanc",
      "type": "USER"
    },
    "categories": [],
    "originContext": {
      "origin": "MANAGEMENT"
    },
    "responseTemplates": {},
    "resources": [
      {
        "name": "model",
        "type": "ai-model-text-classification",
        "configuration": "{\"model\":{\"type\":\"GRAVITEE_IO_DISTILBERT_MULTILINGUAL_TOXICITY_CLASSIFIER\"}}",
        "enabled": true
      }
    ],
    "properties": []
  },
  "members": [
    {
      "id": "a8fbc6e4-f4c9-4729-bbc6-e4f4c9f7299e",
      "displayName": "Dorian Blanc",
      "roles": [
        {
          "name": "PRIMARY_OWNER",
          "scope": "API"
        }
      ]
    }
  ],
  "metadata": [
    {
      "key": "email-support",
      "name": "email-support",
      "format": "MAIL",
      "value": "${(api.primaryOwner.email)!''}",
      "defaultValue": "support@change.me"
    }
  ],
  "pages": [],
  "plans": [
    {
      "definitionVersion": "V4",
      "flows": [
        {
          "id": "4e5bbda1-2e07-41dc-9bbd-a12e0741dca4",
          "enabled": true,
          "selectors": [
            {
              "type": "HTTP",
              "path": "/",
              "pathOperator": "STARTS_WITH",
              "methods": []
            }
          ],
          "request": [
            {
              "name": "AI - Prompt Guard Rails",
              "description": "Block Toxic Requests",
              "enabled": true,
              "policy": "ai-prompt-guard-rails",
              "configuration": {
                "sensitivityThreshold": 0.5,
                "resourceName": "model",
                "contentChecks": "toxic",
                "promptLocation": "{#jsonPath(#request.content, '$.prompt')}",
                "requestPolicy": "BLOCK_REQUEST"
              }
            }
          ],
          "response": [
            {
              "name": "AI - Prompt Token Tracking",
              "description": "Track Token Usage",
              "enabled": true,
              "policy": "ai-prompt-token-tracking",
              "configuration": {
                "extraction": {
                  "outputTokenPointer": "{#jsonPath(#response.content, '$.eval_count')}",
                  "modelPointer": "{#jsonPath(#response.content, '$.model')}",
                  "type": "CUSTOM",
                  "inputTokenPointer": "{#jsonPath(#response.content, '$.prompt_eval_count')}"
                },
                "pricing": {
                  "type": "none"
                }
              },
              "condition": "{#response.status == 200}"
            }
          ],
          "subscribe": [],
          "publish": [],
          "connect": [],
          "interact": [],
          "tags": []
        }
      ],
      "id": "79e57058-8724-4c13-a570-588724cc1383",
      "name": "Open",
      "description": "Default unsecured plan",
      "apiId": "ae35e359-c327-48c6-b5e3-59c32798c69f",
      "security": {
        "type": "KEY_LESS",
        "configuration": {}
      },
      "mode": "STANDARD",
      "characteristics": [],
      "commentRequired": false,
      "createdAt": "2025-09-25T16:41:01.319Z",
      "excludedGroups": [],
      "order": 1,
      "publishedAt": "2025-09-25T16:41:01.342Z",
      "status": "PUBLISHED",
      "tags": [],
      "type": "API",
      "updatedAt": "2025-09-25T23:57:19.663Z",
      "validation": "MANUAL"
    }
  ],
  "apiMedia": []
}